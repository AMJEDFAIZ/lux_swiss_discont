<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ¬Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø©</title>
    <style>
        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© */
        :root { --primary-color: #25D366; /* Ù„ÙˆÙ† ÙˆØ§ØªØ³Ø§Ø¨ */ --text-color: #333; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; }
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
        header { background: white; padding: 20px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        h1 { margin: 0; color: var(--text-color); }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
        .products-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 40px;
            max-width: 1200px;
            margin: auto;
        }

        /* ÙƒØ±Øª Ø§Ù„Ù…Ù†ØªØ¬ */
        .product-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        .product-card:hover { transform: translateY(-5px); }
        .product-img  { width: 100%; height: 300px; object-fit: cover; background: #ddd; border-radius: 8px; margin-bottom: 15px; }
        .product-img img { width: 100%; height: 100%; object-fit: cover; background: #ddd; border-radius: 8px; margin-bottom: 15px; }
        .price { color: #d32f2f; font-weight: bold; font-size: 1.2em; }
        
        /* Ø²Ø± Ø§Ù„Ø·Ù„Ø¨ */
        .btn-order {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            font-size: 1em;
            margin-top: 10px;
        }

        /* Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© (Modal) */
        .modal {
            display: none; /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
            position: fixed;
            z-index: 1000;
            left: 0; top: 0;
            width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            position: relative;
        }
        .close-btn { position: absolute; left: 15px; top: 10px; cursor: pointer; font-size: 20px; }
        
        /* Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ */
        input, select { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box;}
    </style>
</head>
<body>

<header>
    <h1>Ø£Ø­Ø¯Ø« Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø­ØµØ±ÙŠØ©</h1>
</header>

<div class="products-container">
    <div class="product-card">
                <div class="product-img"><img src="assets/img/logo.jpg" alt="">  </div>

         <h3>Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Ø£Ù„ØªØ±Ø§</h3>
        <p class="price">150 Ø±ÙŠØ§Ù„</p>
        <button class="btn-order" onclick="openModal('Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Ø£Ù„ØªØ±Ø§', 150)">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† - Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</button>
    </div>

    <div class="product-card">
        <div class="product-img"><img src="assets/img/logo.jpg" alt="">  </div>
        <h3>Ø³Ù…Ø§Ø¹Ø© Ø¨Ù„ÙˆØªÙˆØ« Ø¨Ø±Ùˆ</h3>
        <p class="price">99 Ø±ÙŠØ§Ù„</p>
        <button class="btn-order" onclick="openModal('Ø³Ù…Ø§Ø¹Ø© Ø¨Ù„ÙˆØªÙˆØ« Ø¨Ø±Ùˆ', 99)">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† - Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</button>
    </div>
    
    <div class="product-card">
              <div class="product-img"><img src="assets/img/logo.jpg" alt="">  </div>

        <h3>Ø­Ù‚ÙŠØ¨Ø© Ø¸Ù‡Ø± Ø¶Ø¯ Ø§Ù„Ø³Ø±Ù‚Ø©</h3>
        <p class="price">120 Ø±ÙŠØ§Ù„</p>
        <button class="btn-order" onclick="openModal('Ø­Ù‚ÙŠØ¨Ø© Ø¸Ù‡Ø± Ø¶Ø¯ Ø§Ù„Ø³Ø±Ù‚Ø©', 120)">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† - Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</button>
    </div>
</div>

<div id="orderModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <h2 style="text-align: center;">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h2>
        <p style="text-align: center; color: #666;">Ø§Ù„Ù…Ù†ØªØ¬: <span id="selectedProduct" style="font-weight: bold;"></span></p>
        <p style="text-align: center; color: #666;">Ø§Ù„Ø³Ø¹Ø±: <span id="hiddenPrice" style="font-weight: bold;"></span></p>
        
        <form id="orderForm" onsubmit="submitOrder(event)">
            <input type="text" id="customerName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
            <input type="tel" id="customerPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
            <input type="text" id="customerAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© - Ø§Ù„Ø­ÙŠ)" required>
            <input type="hidden" id="hiddenProduct">
            <input type="hidden" id="hiddenPrice">
            
            <button type="submit" class="btn-order">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ¥Ø±Ø³Ø§Ù„ Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨</button>
        </form>
    </div>
</div>

<script>
   // Ø±Ø§Ø¨Ø· Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ (Ø¶Ø¹Ù‡ Ù‡Ù†Ø§ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ù†Øµ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„Ø£Ø³ÙÙ„)
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzw1VfVakNAaj3TUTFmpYI81rjrW1JXzIP1ehT02YZF7wqchZCcDzl-3RTLfC4fVeLJ/exec";
    const dlivr = 1000;
    // 1. Ø¯Ø§Ù„Ø© ÙØªØ­ Ø§Ù„Ù†Ø§ÙØ°Ø©
    function openModal(productName, price) {
        document.getElementById('orderModal').style.display = 'flex';
        document.getElementById('selectedProduct').innerText = productName;
        document.getElementById('hiddenPrice').innerText = price + dlivr ;
        document.getElementById('hiddenProduct').value = productName;
        document.getElementById('hiddenPrice').value = price;
    }

    // 2. Ø¯Ø§Ù„Ø© Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
    function closeModal() {
        document.getElementById('orderModal').style.display = 'none';
    }

    // 3. Ø¯Ø§Ù„Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨ (Ø§Ù„Ù…Ø¹Ø¯Ù„Ø©)
    function submitOrder(e) {
        e.preventDefault(); // Ù…Ù†Ø¹ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©

        // ØªØºÙŠÙŠØ± Ù†Øµ Ø§Ù„Ø²Ø± Ù„ÙŠØ¸Ù‡Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ù† Ù‡Ù†Ø§Ùƒ Ø¹Ù…Ù„ÙŠØ© Ø¬Ø§Ø±ÙŠØ©
        const submitBtn = document.querySelector('.btn-order[type="submit"]');
        const originalBtnText = submitBtn.innerText;
        submitBtn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...";
        submitBtn.disabled = true;

        // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„
        const data = {
            name: document.getElementById('customerName').value,
            phone: document.getElementById('customerPhone').value,
            address: document.getElementById('customerAddress').value,
            product: document.getElementById('hiddenProduct').value ,
            price: document.getElementById('hiddenPrice').value+dlivr
        };

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Google Sheet
        fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            mode: 'no-cors', // Ø¶Ø±ÙˆØ±ÙŠ Ø¬Ø¯Ø§Ù‹ Ù„ØªØ¬Ù†Ø¨ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø£Ù…Ø§Ù† Ù…Ø¹ Ø¬ÙˆØ¬Ù„
            cache: 'no-cache',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data) // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù†Øµ
        })
        .then(() => {
            // Ø¨Ø¹Ø¯ Ù†Ø¬Ø§Ø­ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø´ÙŠØªØŒ Ù†Ø¬Ù‡Ø² Ø±Ø§Ø¨Ø· Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
            // Ø±Ù‚Ù…Ùƒ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ (Ø¹Ø¯Ù„Ù‡ Ø¨Ø±Ù‚Ù…Ùƒ)
            const myPhone = "967775226109"; 
            
            const message = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨ Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯:%0a` +
                            `ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬: ${data.product}%0a` +
                            `ğŸ’° Ø§Ù„Ø³Ø¹Ø±: ${data.price} Ø±ÙŠØ§Ù„%0a` +
                            `------------------%0a` +
                            `ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${data.name}%0a` +
                            `ğŸ“± Ø§Ù„Ø¬ÙˆØ§Ù„: ${data.phone}%0a` +
                            `ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${data.address}%0a` +
                            `ğŸ’µ Ø§Ù„Ø¯ÙØ¹: Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…`;

            const whatsappURL = `https://wa.me/${myPhone}?text=${message}`;

            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø²Ø± Ù„Ø­Ø§Ù„ØªÙ‡ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
            submitBtn.innerText = originalBtnText;
            submitBtn.disabled = false;
            closeModal();
            
            // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('orderForm').reset();

            // ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©
            window.open(whatsappURL, '_blank');
            
            alert("ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ ÙˆØ³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹!");
        })
        .catch(err => {
            console.error('Error:', err);
            alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø¨Ø³ÙŠØ·ØŒ Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ù…Ø¨Ø§Ø´Ø±Ø©.");
            // Ø­ØªÙ‰ Ù„Ùˆ ÙØ´Ù„ Ø§Ù„Ø­ÙØ¸ ÙÙŠ Ø§Ù„Ø´ÙŠØªØŒ Ù†ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ ÙƒÙŠ Ù„Ø§ ØªØ®Ø³Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„
            window.open(`https://wa.me/967775226109`, '_blank');
            submitBtn.innerText = originalBtnText;
            submitBtn.disabled = false;
        });
    }

    // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø®Ø§Ø±Ø¬Ù‡Ø§
    window.onclick = function(event) {
        if (event.target == document.getElementById('orderModal')) {
            closeModal();
        }
    }
</script>

</body>
</html>